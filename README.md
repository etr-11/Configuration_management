Класс MemoryVFS
Назначение: Виртуальная файловая система в памяти, имитирующая структуру папок и файлов.

Методы:
__init__(self)

Инициализирует пустую VFS с корневой директорией

add_entry(self, path, entry_type, content=None)

Добавляет запись (файл или директорию) в VFS

Параметры:

path - путь к создаваемой записи

entry_type - тип записи ("dir" или "file")

content - содержимое файла в base64 (опционально)

get_node(self, path)

Возвращает узел по указанному пути

Исключения: FileNotFoundError если путь не существует

list_dir(self, path)

Возвращает список содержимого директории

Исключения: NotADirectoryError если путь не является директорией

make_file(self, path)

Создает пустой файл по указанному пути

move_entry(self, src, dst)

Перемещает/переименовывает запись из источника в назначение

Исключения: FileNotFoundError если источник не существует

Класс VFSShell
Назначение: Эмулятор командной оболочки для работы с VFS.

Методы:
__init__(self, vfs_name="sasha", vfs=None)

Инициализирует оболочку с именем и VFS

get_prompt(self)

Возвращает строку приглашения в формате имя:текущая_директория$

parse_command(self, input_string)

Разбирает ввод пользователя на команду и аргументы

resolve_path(self, dest)

Преобразует относительный путь в абсолютный

Команды оболочки:

cmd_ls(args) - список файлов и директорий

cmd_cd(args) - смена текущей директории

cmd_rev(args) - переворачивает слова задом наперед

cmd_uptime(args) - показывает время работы сессии

cmd_touch(args) - создает пустые файлы

cmd_mv(args) - перемещает/переименовывает файлы

cmd_exit(args) - выход из оболочки

run_command(self, command, args)

Выполняет команду с аргументами

Класс TerminalEmulator
Назначение: Основной эмулятор терминала, управляющий VFS и оболочкой.

Методы:
__init__(self, vfs_name="sasha", vfs_path=None, start_script=None)

Инициализирует эмулятор с возможностью загрузки VFS из CSV и стартового скрипта

_execute_line(self, line)

Выполняет одну команду из скрипта

Возвращает: True если команда была "exit"

start(self, interactive=True)

Запускает эмулятор терминала

Сначала выполняет стартовый скрипт (если указан)

Затем переходит в интерактивный режим (если не отключен)

Вспомогательные функции
load_vfs_from_csv(csv_path)

Загружает VFS из CSV файла

Формат CSV: колонки path, type, content

create_default_vfs()

Создает VFS по умолчанию с тестовой структурой

main()

Точка входа в программу, обрабатывает аргументы командной строки
